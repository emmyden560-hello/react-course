<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <!-- <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script> -->
  </head>
  <body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <script type="text/babel">
            function ChatInput() {
              return (
                <>
                  <input type="text" placeholder="Send a message to Chatbot" size="30" />
                  <button>Send</button>
                </>
              );
            }

            function ChatMessage({ message, sender }) {
              // const { message, sender } = props;

              return (
                <div>
                  {sender === 'robot' && <img src="/images/robotimg.png" width="50" />}
                  {message}
                  {sender === 'user' && <img src="/images/userimg.png" width="50" />}
                </div>
              )
            }

            function ChatMessages() {
              const array = React.useState([{
                message: 'hello chatbot',
                sender: 'user',
                id: '1'
              }, {
                message: "hello how can i help u",
                sender: 'robot',
                id: '2'
              }, {
                message: 'can u get me todays date',
                sender: 'user',
                id: '3'
              }, {
                message: 'taoday is december 9',
                sender: 'robot',
                id: '4'
              }]
              );

              const chatMessages = array[0];
              const setchatMessages = array[1];

              function send() {
                setchatMessages([
                  ...chatMessages,
                  {
                    message: 'test',
                    sender: 'user',
                    id: crypto.randomUUID()
                  }
                ]);
              }

              return (
              <>
                <button onClick={send}>Send message</button>

                {chatMessages.map((chatMessage) => {
                return (
                  <ChatMessage
                    message={chatMessage.message}
                    sender={chatMessage.sender}
                    key={chatMessage.id}
                  />
                )
              })}
              </>
              );
            }

            function App() {
              return (
                <>
                <ChatInput />
                <ChatMessages />
                </>
              )
            }



            const container = document.querySelector(".js-container");
            ReactDOM.createRoot(container).render(<App/>);
    </script>
  </body>
</html>
